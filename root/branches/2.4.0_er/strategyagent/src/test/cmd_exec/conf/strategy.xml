<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">
    <!-- set up Spring context scanning -->
    <context:component-scan base-package="com.marketcetera.ramius"/>
    <bean class="com.marketcetera.ramius.strategy.impl.TargetedOrderModifier" id="targetedOrderModifier"/>
    <!-- generators/executors -->
    <bean class="com.marketcetera.ramius.strategy.impl.MarketceteraOrderGenerator" id="orderGenerator">
        <property name="orderModifiers">
            <list>
                <ref bean="targetedOrderModifier"/>
            </list>
        </property>
    </bean>
    <bean class="com.marketcetera.ramius.strategy.impl.DefaultMilepostExecutor" id="milepostExecutor"/>
    <bean id="ladderGenerator" class="com.marketcetera.ramius.strategy.impl.LadderGeneratorImpl"/>
    <bean id="notificationExecutor" class="com.marketcetera.ramius.strategy.impl.EmailNotificationExecutor">
        <!-- for multiple addresses, separate with ',' -->
        <property name="recipients" value="bjones@ramius.com,lgibbs@ramius.com"/>
    </bean>
    <bean id="timerExecutor" class="com.marketcetera.ramius.strategy.impl.DefaultTimerExecutor">
        <property name="name" value="Marketcetera Timer Executor"/>
    </bean>
    <bean id="templateGenerator" class="com.marketcetera.ramius.strategy.impl.FileTemplateExecutor"/>
    <bean id="dataRecorder" class="com.marketcetera.strategy.DataRecorder"/>
    <!-- main object tied-in with application context -->
    <bean class="com.marketcetera.ramius.strategy.impl.TradeManagerImpl" id="tradeManager">
        <property name="dataRecorder" ref="dataRecorder"/>
    </bean>
    <!-- validators and converters -->
    <bean class="com.marketcetera.ramius.validation.impl.BrokerIDValidator" id="brokerIDValidator">
        <property name="strictValidation" value="false"/>
    </bean>
    <!-- strategy monitor gateway -->
    <bean class="com.marketcetera.ramius.strategy.monitor.MonitorServer" id="monitorServer">
      <property name="port" value="9002"/>
    </bean>
    <!-- general definition beans -->
    <!-- directory into which to drop input files (required) -->
    <bean class="java.lang.String" id="inputDirectory">
      <constructor-arg value="/common/TradeManager"/>
    </bean>
    <!-- number of ms in advance of order start times to send orders to the broker (optional, default = 0) -->
    <bean class="java.lang.Long" id="presendInterval">
      <constructor-arg value="1000"/>
    </bean>
    <!-- interval in ms at which to poll input directory (optional, default = 250) -->
    <bean class="java.lang.Long" id="pollInterval">
      <constructor-arg value="250"/>
    </bean>
</beans>
